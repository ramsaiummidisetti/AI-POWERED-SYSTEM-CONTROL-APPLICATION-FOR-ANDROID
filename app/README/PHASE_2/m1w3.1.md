Perfect ğŸ‘
Below is a **clean, exam-ready list of all codes used in Week-3**, with **file names, package names, and purpose**.
You can directly use this in **README / report / viva**.

---

# ğŸ“… Week-3: Autonomy & Self-Scripting

### Goal: Natural language task scripting + automation suggestions using UsageStatsManager

---

## ğŸ§© 1. `UsagePatternAnalyzer.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/ai/UsagePatternAnalyzer.java
```

### âœ… Purpose

* Reads **app usage history** from Android
* Acts as the **data source** for autonomy
* No external dataset needed

### âœ… Code

```java
package com.example.ai;

import android.app.usage.UsageStats;
import android.app.usage.UsageStatsManager;
import android.content.Context;

import java.util.ArrayList;
import java.util.List;
import java.util.SortedMap;
import java.util.TreeMap;

public class UsagePatternAnalyzer {

    public static List<String> getRecentlyUsedApps(Context context) {

        UsageStatsManager usm =
                (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);

        long end = System.currentTimeMillis();
        long start = end - (1000 * 60 * 60 * 24); // last 24 hours

        List<UsageStats> stats =
                usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, start, end);

        SortedMap<Long, String> sortedApps = new TreeMap<>();

        for (UsageStats usage : stats) {
            sortedApps.put(usage.getLastTimeUsed(), usage.getPackageName());
        }

        return new ArrayList<>(sortedApps.values());
    }
}
```

---

## ğŸ§  2. `PatternDetector.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/ai/PatternDetector.java
```

### âœ… Purpose

* Detects **repeated usage patterns**
* Finds frequently opened apps
* Core logic for **self-learning**

### âœ… Code

```java
package com.example.ai;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class PatternDetector {

    public static String detectRepeatedApp(List<String> apps) {

        Map<String, Integer> countMap = new HashMap<>();

        for (String app : apps) {
            countMap.put(app, countMap.getOrDefault(app, 0) + 1);
        }

        for (String app : countMap.keySet()) {
            if (countMap.get(app) >= 3) { // threshold
                return app;
            }
        }
        return null;
    }
}
```

---

## ğŸ’¡ 3. `AutomationSuggester.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/ai/AutomationSuggester.java
```

### âœ… Purpose

* Suggests **automations to the user**
* Example: â€œYou open YouTube often. Create shortcut?â€

### âœ… Code

```java
package com.example.ai;

import android.content.Context;
import android.widget.Toast;

public class AutomationSuggester {

    public static void suggest(Context context, String app) {
        if (app != null) {
            Toast.makeText(
                    context,
                    "Suggestion: Create automation for " + app,
                    Toast.LENGTH_LONG
            ).show();
        }
    }
}
```

---

## ğŸ§¾ 4. `TaskScriptParser.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/ai/TaskScriptParser.java
```

### âœ… Purpose

* Converts **natural language commands** into action steps
* Example:

  > â€œopen youtube and open chromeâ€

### âœ… Code

```java
package com.example.ai;

import android.util.Log;
import java.util.ArrayList;
import java.util.List;

public class TaskScriptParser {

    public static List<String> parseActions(String command) {

        Log.e("SCRIPT_PARSE", "Parsing command: " + command);

        List<String> actions = new ArrayList<>();

        command = command.toLowerCase();

        if (command.contains("youtube")) actions.add("youtube");
        if (command.contains("chrome")) actions.add("chrome");
        if (command.contains("wifi")) actions.add("wifi");
        if (command.contains("settings")) actions.add("settings");

        return actions;
    }
}
```

---

## âš™ï¸ 5. `ScriptEngine.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/ai/ScriptEngine.java
```

### âœ… Purpose

* Executes **multiple actions sequentially**
* Enables **multi-step automation**

### âœ… Code

```java
package com.example.ai;

import android.content.Context;
import com.example.utils.CommandOrchestrator;
import java.util.List;

public class ScriptEngine {

    public static void execute(Context context, List<String> actions) {

        CommandOrchestrator orchestrator =
                new CommandOrchestrator(context);

        for (String action : actions) {
            switch (action) {
                case "youtube":
                    orchestrator.handleIntent(0);
                    break;
                case "wifi":
                    orchestrator.handleIntent(1);
                    break;
                case "chrome":
                    orchestrator.handleIntent(3);
                    break;
                case "settings":
                    orchestrator.handleIntent(6);
                    break;
            }
        }
    }
}
```

---

## ğŸ”— 6. Changes in `MainActivity.java`

ğŸ“ **Path**

```
app/src/main/java/com/example/MainActivity.java
```

### âœ… Where Week-3 is used

Inside **`onActivityResult()`** after voice recognition:

```java
List<String> apps =
        UsagePatternAnalyzer.getRecentlyUsedApps(this);

String frequentApp =
        PatternDetector.detectRepeatedApp(apps);

AutomationSuggester.suggest(this, frequentApp);

// Task scripting
List<String> actions =
        TaskScriptParser.parseActions(command);

if (!actions.isEmpty()) {
    ScriptEngine.execute(this, actions);
}
```

---

## ğŸ§ª How to Test Week-3 (Simple)

### ğŸ”¹ Test 1: Automation suggestion

1. Open same app (YouTube) multiple times
2. Launch your app
3. Youâ€™ll see:

```
Suggestion: Create automation for com.google.android.youtube
```

---

### ğŸ”¹ Test 2: Task scripting

Speak:

```
open youtube and open chrome
```

âœ” YouTube opens
âœ” Chrome opens
âœ” Multiple commands executed

---

## ğŸ“ Summary (For Viva)

> â€œWeek-3 introduces autonomy by analyzing app usage patterns using UsageStatsManager, detecting repetitive behavior, and generating automation suggestions. Natural language task scripting allows users to execute multiple actions from a single command without predefined workflows or external datasets.â€

---

If you want next:

* ğŸ“„ **Week-3 README for GitHub**
* ğŸ“Š **Week-3 architecture diagram**
* ğŸ¤ **Viva questions & answers**
* ğŸš€ **Week-4 roadmap**

Just tell me ğŸ‘
